<!DOCTYPE>
<html>
    <head>
	<title>墨问的个人简历</title>
	<link rel="stylesheet" href="./css/a.css">
        <link rel="stylesheet" href="./css/loading.css">
	<script src="//at.alicdn.com/t/font_497233_h5nv8og1t703haor.js"></script>
	<style type="text/css">
	    .icon {
		width: 1em; height: 1em;
		vertical-align: -0.15em;
		fill: currentColor;
		overflow: hidden;
	    }
	</style>
    </head>
    <body>
      <div id="siteWelcome" class="site-welcome active">
	<div class="loading"></div>
      </div>
      <div id="topNavBar" class="topNavBar">
       <div class="innerBar clearfix">
	<a style="float: left;" class="logo" href="#" alt="logo">
	  <span class="rs">RS</span><span class="card">card</span>
	</a>
        <nav style="float: right;" class="menu">
	  <ul class="clearfix">
	    <li><a href="#siteAbout">关于</a></li>
	    <li><a href="#siteSkills">技能</a></li>
	    <li>
		<a href="#siteWorks">作品</a>
		<ul class="submenu">
		    <li><a href="#">作品1</a></li>
		    <li><a href="#">作品2</a></li>
		    <li><a href="#">作品3</a></li>
		</ul>
	    </li>
	    <li>
		<a href="#">博客</a>
		<ul class="submenu">
		    <li><a href="#">博客1</a></li>
		    <li><a href="#">博客2</a></li>
		    <li><a href="#">博客3</a></li>
		</ul>
	    </li>
	    <li><a href="#">日历</a></li>
	    <li><a href="#">联系方式</a></li>
	    <li><a href="#">其他</a></li>
          </ul>
        </nav>
       </div>
      </div>
      <div class="banner">
        <div class="mask"></div>
      </div>
      <main>
	<div data-x id="siteAbout" class="introduction">
	  <div class="pictureAndText clearfix">
	    <div class="picture" style="float: left;">
	      <img src="./images/avatar.jpg" alt="头像">
	    </div>
	     <div class="text" style="float: right;">
	      <span class="welcome">Hello</span>
	      <div class="triangle"></div>
	      <h1>墨 问</h1>
	      <p>前端工程师</p>
	      <hr>
	      <dl class="clearfix">
		<dt>年龄</dt>
		<dd>26</dd>
		<dt>地址</dt>
		<dd>xxxxxxx</dd>
		<dt>电子邮箱</dt>
		<dd>13511707@qq.com</dd>
		<dt>电话</dt>
		<dd>131xxxxxxxx</dd>
	      </dl>
	     </div>
	    </div>
	    <footer>
	      <a href="#">
		  <svg class="icon" aria-hidden="true" style="width: 20px height: 20px; fill: white;">
		    <use xlink:href="#icon-icongithub"></use>
		  </svg>
	      </a>
	      <a href="#">
		  <svg class="icon" aria-hidden="true">
		    <use xlink:href="#icon-Ankerwebicon-"></use>
		  </svg>
	      </a>
	      <a href="#">
		  <svg class="icon" aria-hidden="true">
		    <use xlink:href="#icon-weibo"></use>
		  </svg>
	      </a>
	    </footer>
        </div>
	<div class="resume">
	    <a class="button" href="./images/resume.pdf" download>下载 PDF 简历</a>
	</div>

	<div class="briefIntroduction">
	    <p>墨问，前端菜鸟，目前正在饥人谷学习前端开发。</p>
	</div>

      </main>
      <section  data-x id="siteSkills" class="skills">
	  <h2>技能</h2>
	    <ul class="clearfix">
		<li>
		    <h3>HTML &amp; CSS</h3>
		    <div class="progressBar">
			<div class="progress" style="width: 50%;"></div>
		    </div>
		</li>
		<li>
		    <h3>JavaScript</h3>
		    <div class="progressBar">
			<div class="progress" style="width: 30%;"></div>
		    </div>
		</li>
		<li>
		    <h3>JQuery</h3>
		    <div class="progressBar">
			<div class="progress" style="width: 20%;"></div>
		    </div>
		</li>
		<li>
		    <h3>Vue.js</h3>
		    <div class="progressBar">
			<div class="progress" style="width: 10%;"></div>
		    </div>
		</li>
		<li>
		    <h3>React.js</h3>
		    <div class="progressBar">
			<div class="progress" style="width: 10%;"></div>
		    </div>
		</li>
		<li>
		    <h3>Node.js</h3>
		    <div class="progressBar">
			<div class="progress" style="width: 30%;"></div>
		    </div>
		</li>
	    </ul>
      </section>
      <section data-x id="siteWorks" class="portfolio">
	  <h2>作品集</h2>
	  <nav>
	      <ol class="clearfix">
		  <li id="portfolio1">所有</li>
		  <li id="portfolio2">框架</li>
		  <li id="portfolio3">原生JS&amp;CSS</li>
	      </ol>
	      <div id="portfolioBar" class="bar state-1">
		  <div class="inner-bar"></div>
	      </div>
	  </nav>
	  <script>
	    portfolio1.onclick = function() {
		portfolioBar.className = 'bar state-1'
	    }
	    portfolio2.onclick = function() {
		portfolioBar.className = 'bar state-2'
	    }
	    portfolio3.onclick = function() {
		portfolioBar.className = 'bar state-3'
	    }
	  </script>
	  <div id = "works" class="works">
	      <div class="big">
		  <img src="./images/1.jpg">
	      </div>
	      <div class="small" style="right: 0;">
		  <img src="./images/2.jpg">
	      </div>
	      <div class="small" style="right: 0; top: 312px">
		  <img src="./images/3.jpg">
	      </div>
	  </div>
      </section>
      <script>
        setTimeout(function(){
	    siteWelcome.classList.remove('active')
	},1000)
	
       let specialTags = document.querySelectorAll('[data-x]')
       for(let i = 0; i < specialTags.length; i++){
	   specialTags[i].classList.add('offset')
       }

       setTimeout(function(){
	   findClosest()
       }, 1500)

       window.onscroll = function(xxx){
	   if(window.scrollY > 0){
	       topNavBar.classList.add('sticky')
	   }else{
	       topNavBar.classList.remove('sticky')
	   }
	   findClosest()
	}

      function findClosest(){
	  let specialTags = document.querySelectorAll('[data-x]')
	   let minIndex = 0
	   for(let i = 1; i < specialTags.length; i++){
	       if(Math.abs(specialTags[i].offsetTop - window.scrollY) <
	       Math.abs(specialTags[minIndex].offsetTop - window.scrollY)) {
		   minIndex = i
	       }
	   }
	   specialTags[minIndex].classList.remove('offset')
	   let id = specialTags[minIndex].id
	   let a = document.querySelector('a[href="#' + id + '"]')
	   let li = a.parentNode
	   let brothersAndMe = li.parentNode.children
	   for(let i = 0; i <  brothersAndMe.length; i++){
	       brothersAndMe[i].classList.remove('highlight')
	   }
	   li.classList.add('highlight')
      }

      let liTags = document.querySelectorAll('nav.menu > ul > li')
      for(let i = 0; i < liTags.length; i++){
	  liTags[i].onmouseenter = function(x){
	      let li = x.currentTarget
	      li.classList.add('active')
	  }
	  liTags[i].onmouseleave = function(x){
	      let li = x.currentTarget
	      li.classList.remove('active')
	  }
      }
      
      let aTags = document.querySelectorAll('nav.menu > ul > li > a')
      for(let i = 0; i < aTags.length; i++){
	  aTags[i].onclick = function(x){
	      x.preventDefault()
	      let a = x.currentTarget
	      let href = a.getAttribute('href')
	      let element = document.querySelector(href)
	      let top = element.offsetTop
	      //window.scrollTo(0, top - 80)
	      //let n = 25
	      //let t = 500 / n
	      //let currentTop = window.scrollY
	      //let targetTop = top - 80
	      //let S = targetTop - currentTop
	      //let s = S / n
	      //let i = 0
	      //let id = setInterval(()=> {
		  //if(i === n){
		      //window.clearInterval(id)
		      //return
		  //}
		  //i = i + 1
		  //window.scrollTo(0, currentTop + s * i)
	      //}, t)
	      function animate(time){
		  requestAnimationFrame(animate);
		  TWEEN.update(time);
	      }
	      requestAnimationFrame(animate);
	      let currentTop = window.scrollY
	      let targetTop = top - 80
	      let s = targetTop - currentTop
	      var coords = { y: currentTop };
	      var t = Math.abs((s/100)*300)
	      if(t > 800){ t = 800 }
	      var tween = new TWEEN.Tween(coords)
		  .to({ y: targetTop }, t)
		  .easing(TWEEN.Easing.Quadratic.InOut)
		  .onUpdate(function(){
		      window.scrollTo(0, coords.y)
		  })
	          .start();
	  }
      }
      </script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
    </body>
</html>
